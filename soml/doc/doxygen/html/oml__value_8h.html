<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>oml2: oml_value.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="oml_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">oml2
   &#160;<span id="projectnumber">2.12.0pre.79-58cf-dirty</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('oml__value_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">oml_value.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;limits.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="omlc_8h_source.html">oml2/omlc.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="o__log_8h_source.html">ocomm/o_log.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for oml_value.h:</div>
<div class="dyncontent">
<div class="center"><img src="oml__value_8h__incl.png" border="0" usemap="#oml__value_8h" alt=""/></div>
<map name="oml__value_8h" id="oml__value_8h">
<area shape="rect" id="node7" href="omlc_8h.html" title="Public API of the OML client library." alt="" coords="265,83,359,112"/><area shape="rect" id="node20" href="o__log_8h.html" title="ocomm/o_log.h" alt="" coords="552,160,661,189"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="oml__value_8h__dep__incl.png" border="0" usemap="#oml__value_8hdep" alt=""/></div>
<map name="oml__value_8hdep" id="oml__value_8hdep">
<area shape="rect" id="node3" href="api_8c.html" title="Implement the user&#45;visible API of OML." alt="" coords="5,92,56,121"/><area shape="rect" id="node5" href="average__filter_8c.html" title="Implements a filter which calculates the average over all the samples it received over the sample per..." alt="" coords="80,92,189,121"/><area shape="rect" id="node7" href="delta__filter_8c.html" title="Implements a filter which returns the difference between the previously reported and current sample v..." alt="" coords="213,92,307,121"/><area shape="rect" id="node9" href="factory_8c.html" title="Implements the functions to create and manage filters." alt="" coords="331,92,403,121"/><area shape="rect" id="node11" href="first__filter_8c.html" title="Implements a filter which captures the first value presented." alt="" coords="427,92,512,121"/><area shape="rect" id="node13" href="histogram__filter_8c.html" title="Implements a filter which calculates." alt="" coords="536,92,659,121"/><area shape="rect" id="node15" href="last__filter_8c.html" title="Implements a filter which captures the last value presented." alt="" coords="683,92,768,121"/><area shape="rect" id="node17" href="stddev__filter_8c.html" title="Implements a filter that calculates the standard deviation (and variance) over all samples it receive..." alt="" coords="792,92,896,121"/><area shape="rect" id="node19" href="sum__filter_8c.html" title="Implements a filter which sums all the samples it received over the sample period." alt="" coords="920,92,1011,121"/><area shape="rect" id="node21" href="init_8c.html" title="Implement the user&#45;visible initialisation routines of the user&#45;visible OML API." alt="" coords="1035,92,1085,121"/><area shape="rect" id="node23" href="parse__config_8c.html" title="The XML configuration file parser functions." alt="" coords="1109,92,1216,121"/><area shape="rect" id="node25" href="text__writer_8c.html" title="An implementation of the OmlWriter interface functions (see oml2/oml_writer.h) that serializes measur..." alt="" coords="1240,92,1333,121"/><area shape="rect" id="node27" href="binary_8c.html" title="Functions for reading oml_message objects from an MBuffer using the OML binary format (OMSP Binary Ma..." alt="" coords="1357,92,1424,121"/><area shape="rect" id="node29" href="marshal_8c.html" title="Binary mode OMSP (OML Measurement Stream Protocol (OMSP) OMSP Binary Marshalling) marhsalling and unm..." alt="" coords="1448,92,1525,121"/><area shape="rect" id="node31" href="marshal2_8c.html" title="marshal2.c" alt="" coords="1549,92,1635,121"/><area shape="rect" id="node33" href="oml__value_8c.html" title="Support functions for manipulating OmlValue objects." alt="" coords="1659,92,1749,121"/><area shape="rect" id="node35" href="schema_8c.html" title="Manipulate schema structures, and convert to/from string or SQL representation." alt="" coords="1773,92,1851,121"/><area shape="rect" id="node37" href="text_8c.html" title="Text mode OMSP (OML Measurement Stream Protocol (OMSP) OMSP Text Protocol) serialisation of OML tuple..." alt="" coords="1875,92,1928,121"/><area shape="rect" id="node39" href="client__handler_8c.html" title="The client handler receives callbacks from the eventloop and processes messages in either OML&#39;s text ..." alt="" coords="1952,92,2064,121"/><area shape="rect" id="node41" href="database_8c.html" title="Generic interface for database backends." alt="" coords="2088,92,2173,121"/><area shape="rect" id="node43" href="fuseki__adapter-new-yahya_8c.html" title="fuseki_adapter&#45;new\l&#45;yahya.c" alt="" coords="2197,83,2331,130"/><area shape="rect" id="node45" href="fuseki__adapter_8c.html" title="fuseki_adapter.c" alt="" coords="2355,92,2472,121"/><area shape="rect" id="node47" href="fuseki__adapter__beforeyahyachanges_8c.html" title="fuseki_adapter_beforeyahyachanges.c" alt="" coords="2496,92,2741,121"/><area shape="rect" id="node49" href="fuseki__adapter__in__progress_8c.html" title="fuseki_adapter_in_progress.c" alt="" coords="2765,92,2957,121"/><area shape="rect" id="node51" href="fuseki__adapter__working_8c.html" title="fuseki_adapter_working.c" alt="" coords="2981,92,3152,121"/><area shape="rect" id="node53" href="psql__adapter_8c.html" title="Adapter code for the PostgreSQL database backend." alt="" coords="3176,92,3283,121"/><area shape="rect" id="node55" href="sqlite__adapter_8c.html" title="Adapter code for the SQLite3 database backend." alt="" coords="3307,92,3421,121"/><area shape="rect" id="node57" href="virtuoso__adapter_8c.html" title="virtuoso_adapter.c" alt="" coords="3445,92,3573,121"/><area shape="rect" id="node59" href="check__liboml2__api_8c.html" title="Test the user&#45;visible OML API." alt="" coords="3597,92,3736,121"/><area shape="rect" id="node61" href="check__liboml2__omlvalue_8c.html" title="Test OmlValue[UT] low&#45;level manipulation functions." alt="" coords="3760,92,3933,121"/><area shape="rect" id="node63" href="check__libshared__headers_8c.html" title="check_libshared_headers.c" alt="" coords="3957,92,4136,121"/><area shape="rect" id="node65" href="check__libshared__marshal_8c.html" title="check_libshared_marshal.c" alt="" coords="4160,92,4339,121"/><area shape="rect" id="node67" href="check__util_8c.html" title="Miscellaneous functions and macros used elsewhere in testing." alt="" coords="4363,92,4453,121"/><area shape="rect" id="node69" href="check__binary__protocol_8c.html" title="check_binary_protocol.c" alt="" coords="4477,92,4640,121"/><area shape="rect" id="node71" href="testclient_8c.html" title="testclient.c" alt="" coords="4664,92,4749,121"/></map>
</div>
</div>
<p><a href="oml__value_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4f590bee663b713f2afeee50ca06260b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#a4f590bee663b713f2afeee50ca06260b">oml_value_get_value</a>(v)&#160;&#160;&#160;((<a class="el" href="unionOmlValueU.html">OmlValueU</a>*)&amp;(v)-&gt;value)</td></tr>
<tr class="memitem:aa1e9629b4e4c34fe9d24ab381ad4550c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#aa1e9629b4e4c34fe9d24ab381ad4550c">oml_value_get_type</a>(v)&#160;&#160;&#160;((<a class="el" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a>)(v)-&gt;<a class="el" href="check__libshared__headers_8c.html#a23506fc4821ab6d9671f3e6222591a96">type</a>)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abce36c5bb2beea2a56812e84b9f1a7fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#abce36c5bb2beea2a56812e84b9f1a7fa">oml_value_set</a> (<a class="el" href="structOmlValue.html">OmlValue</a> *to, const <a class="el" href="unionOmlValueU.html">OmlValueU</a> *value, <a class="el" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a> <a class="el" href="check__libshared__headers_8c.html#a23506fc4821ab6d9671f3e6222591a96">type</a>)</td></tr>
<tr class="memitem:a75deb2e7b1e27b795b67e3a76f2270b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#a75deb2e7b1e27b795b67e3a76f2270b2">oml_value_copy</a> (<a class="el" href="unionOmlValueU.html">OmlValueU</a> *value, <a class="el" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a> <a class="el" href="check__libshared__headers_8c.html#a23506fc4821ab6d9671f3e6222591a96">type</a>, <a class="el" href="structOmlValue.html">OmlValue</a> *to) __attribute__((deprecated))</td></tr>
<tr class="memitem:aecf953b9ce05c582c030eec0e962c69c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#aecf953b9ce05c582c030eec0e962c69c">oml_value_init</a> (<a class="el" href="structOmlValue.html">OmlValue</a> *v)</td></tr>
<tr class="memitem:a1b8f01ab780658d8635adb4ba94351a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#a1b8f01ab780658d8635adb4ba94351a2">oml_value_array_init</a> (<a class="el" href="structOmlValue.html">OmlValue</a> *v, unsigned int n)</td></tr>
<tr class="memitem:a7213e167ca9eb81228f8b7952e99f8c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#a7213e167ca9eb81228f8b7952e99f8c9">oml_value_set_type</a> (<a class="el" href="structOmlValue.html">OmlValue</a> *v, <a class="el" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a> <a class="el" href="check__libshared__headers_8c.html#a23506fc4821ab6d9671f3e6222591a96">type</a>)</td></tr>
<tr class="memitem:ad73bf2617858cdc9c70722e1ca91eea3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#ad73bf2617858cdc9c70722e1ca91eea3">oml_value_reset</a> (<a class="el" href="structOmlValue.html">OmlValue</a> *v)</td></tr>
<tr class="memitem:af9b04c9eed21bd2760271446cdcf8795"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#af9b04c9eed21bd2760271446cdcf8795">oml_value_array_reset</a> (<a class="el" href="structOmlValue.html">OmlValue</a> *v, unsigned int n)</td></tr>
<tr class="memitem:a5488479a807e78eeea40322a4ca851e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#a5488479a807e78eeea40322a4ca851e3">oml_value_duplicate</a> (<a class="el" href="structOmlValue.html">OmlValue</a> *dst, <a class="el" href="structOmlValue.html">OmlValue</a> *src)</td></tr>
<tr class="memitem:a7599e6fb79e38eda3ed88a6ead2d2caf"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#a7599e6fb79e38eda3ed88a6ead2d2caf">oml_type_to_s</a> (<a class="el" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a> <a class="el" href="check__libshared__headers_8c.html#a23506fc4821ab6d9671f3e6222591a96">type</a>)</td></tr>
<tr class="memitem:aafc9150eceacdda526c7835f09bc52a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#aafc9150eceacdda526c7835f09bc52a5">oml_type_from_s</a> (const char *s)</td></tr>
<tr class="memitem:ad4474bf93d70042416d0bc2adff357a4"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#ad4474bf93d70042416d0bc2adff357a4">oml_value_to_s</a> (<a class="el" href="structOmlValue.html">OmlValue</a> *value, char *buf, size_t size)</td></tr>
<tr class="memitem:a71292b83bb22ac91c6306baff2d96b03"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#a71292b83bb22ac91c6306baff2d96b03">oml_value_from_s</a> (<a class="el" href="structOmlValue.html">OmlValue</a> *value, const char *value_s)</td></tr>
<tr class="memitem:aa4094261392435563804ab3c675539df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#aa4094261392435563804ab3c675539df">oml_value_from_typed_s</a> (<a class="el" href="structOmlValue.html">OmlValue</a> *value, const char *type_s, const char *value_s)</td></tr>
<tr class="memitem:a65b495cdb73eb533db348aded97c577f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#a65b495cdb73eb533db348aded97c577f">oml_value_to_double</a> (<a class="el" href="structOmlValue.html">OmlValue</a> *value)</td></tr>
<tr class="memitem:adf01fab773d98c9aa023c0edd72d3409"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#adf01fab773d98c9aa023c0edd72d3409">oml_value_to_int</a> (<a class="el" href="structOmlValue.html">OmlValue</a> *value)</td></tr>
<tr class="memitem:ac52077e026472e534df0e0ae38c8ba4e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oml__value_8h.html#ac52077e026472e534df0e0ae38c8ba4e">oml_value_string_to_bool</a> (const char *value_s)</td></tr>
</table>
<h2>Macro Definition Documentation</h2>
<a class="anchor" id="aa1e9629b4e4c34fe9d24ab381ad4550c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define oml_value_get_type</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a>)(v)-&gt;<a class="el" href="check__libshared__headers_8c.html#a23506fc4821ab6d9671f3e6222591a96">type</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the type of an <a class="el" href="structOmlValue.html">OmlValue</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>pointer to the <a class="el" href="structOmlValue.html">OmlValue</a> to manipulate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the type of the data stored in theOmlValue </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8h_source.html#l00060">60</a> of file <a class="el" href="oml__value_8h_source.html">oml_value.h</a>.</p>

<p>Referenced by <a class="el" href="binary_8c_source.html#l00071">bin_value_size()</a>, <a class="el" href="marshal_8c_source.html#l00545">marshal_values()</a>, <a class="el" href="oml__value_8c_source.html#l00283">oml_value_duplicate()</a>, <a class="el" href="oml__value_8c_source.html#l00470">oml_value_from_s()</a>, <a class="el" href="oml__value_8c_source.html#l00794">oml_value_to_double()</a>, <a class="el" href="oml__value_8c_source.html#l00819">oml_value_to_int()</a>, <a class="el" href="oml__value_8c_source.html#l00360">oml_value_to_s()</a>, <a class="el" href="check__libshared__marshal_8c_source.html#l00602">START_TEST()</a>, <a class="el" href="marshal_8c_source.html#l01375">unmarshal_typed_value()</a>, and <a class="el" href="check__util_8c_source.html#l00110">vector_type_check()</a>.</p>

</div>
</div>
<a class="anchor" id="a4f590bee663b713f2afeee50ca06260b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define oml_value_get_value</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="unionOmlValueU.html">OmlValueU</a>*)&amp;(v)-&gt;value)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the <a class="el" href="unionOmlValueU.html">OmlValueU</a> of an <a class="el" href="structOmlValue.html">OmlValue</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>pointer to the <a class="el" href="structOmlValue.html">OmlValue</a> to manipulate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the <a class="el" href="unionOmlValueU.html">OmlValueU</a> contained in v </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8h_source.html#l00051">51</a> of file <a class="el" href="oml__value_8h_source.html">oml_value.h</a>.</p>

<p>Referenced by <a class="el" href="binary_8c_source.html#l00104">bin_read_msg_start()</a>, <a class="el" href="binary_8c_source.html#l00071">bin_value_size()</a>, <a class="el" href="marshal_8c_source.html#l00545">marshal_values()</a>, <a class="el" href="oml__value_8c_source.html#l00283">oml_value_duplicate()</a>, <a class="el" href="oml__value_8c_source.html#l00470">oml_value_from_s()</a>, <a class="el" href="oml__value_8c_source.html#l00484">oml_value_from_typed_s()</a>, <a class="el" href="oml__value_8c_source.html#l00146">oml_value_set()</a>, <a class="el" href="oml__value_8c_source.html#l00794">oml_value_to_double()</a>, <a class="el" href="oml__value_8c_source.html#l00819">oml_value_to_int()</a>, <a class="el" href="oml__value_8c_source.html#l00360">oml_value_to_s()</a>, <a class="el" href="check__binary__protocol_8c_source.html#l00093">START_TEST()</a>, <a class="el" href="text_8c_source.html#l00142">text_read_msg_start()</a>, <a class="el" href="marshal_8c_source.html#l00951">unmarshal_init()</a>, <a class="el" href="marshal_8c_source.html#l01101">unmarshal_value()</a>, and <a class="el" href="check__util_8c_source.html#l00120">vector_values_check()</a>.</p>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="aafc9150eceacdda526c7835f09bc52a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a> oml_type_from_s </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert string to an OmlValueT type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>string representing the type to get </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the OmlValueT corresponding to the string, or OML_UNKNOWN_VALUE</dd></dl>
<dl class="section see"><dt>See Also</dt><dd>oml_value_ut_to_s </dd>
<dd>
type_names </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00325">325</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="oml__util_8h_source.html#l00027">LENGTH</a>, <a class="el" href="log_8c_source.html#l00309">logwarn()</a>, <a class="el" href="init_8c_source.html#l01493">name</a>, <a class="el" href="omlc_8h_source.html#l00037">OML_LONG_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00033">OML_UNKNOWN_VALUE</a>, and <a class="el" href="oml__value_8c_source.html#l00042">type</a>.</p>

<p>Referenced by <a class="el" href="oml__value_8c_source.html#l00484">oml_value_from_typed_s()</a>, <a class="el" href="testclient_8c_source.html#l00258">read_mp_def()</a>, and <a class="el" href="schema_8c_source.html#l00191">schema_field_from_meta()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordtype">int</span> i = 0;</div>
<div class="line">  <span class="keywordtype">int</span> n = <a class="code" href="oml__util_8h.html#ad0e13d94164219be2d5bbd4d65e71d1e">LENGTH</a>(type_names);</div>
<div class="line">  <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a> <a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a> = <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a82c7e500e74f675f5969ea2b28d2c0d7">OML_UNKNOWN_VALUE</a>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (NULL == s) {</div>
<div class="line">    <a class="code" href="log_8c.html#ac65b3f90d3228474368b2b48a488cd44">logwarn</a>(<span class="stringliteral">&quot;%s(): trying to resolve a NULL type string\n&quot;</span>, __FUNCTION__);</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n; i++) {</div>
<div class="line">      <span class="keywordflow">if</span> (strcmp (s, type_names[i].<a class="code" href="init_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>) == 0) {</div>
<div class="line">        type = type_names[i].type;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (type == <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a22fda4d714f29db7df49a3574986e67c">OML_LONG_VALUE</a>) {</div>
<div class="line">      <a class="code" href="log_8c.html#ac65b3f90d3228474368b2b48a488cd44">logwarn</a>(<span class="stringliteral">&quot;%s(): OML_LONG_VALUE is deprecated, please use OML_INT32_VALUE instead\n&quot;</span>, __FUNCTION__);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7599e6fb79e38eda3ed88a6ead2d2caf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* oml_type_to_s </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a string representing the given OmlValueT type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>OmlValueT type to get the representation for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a string that represent the type, or "UNKNOWN"</dd></dl>
<dl class="section see"><dt>See Also</dt><dd>oml_value_ut_from_s </dd>
<dd>
type_names </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00298">298</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="oml__util_8h_source.html#l00027">LENGTH</a>, and <a class="el" href="init_8c_source.html#l01493">name</a>.</p>

<p>Referenced by <a class="el" href="testclient_8c_source.html#l00467">main()</a>, <a class="el" href="marshal_8c_source.html#l00577">marshal_value()</a>, <a class="el" href="schema_8c_source.html#l00306">schema_to_meta()</a>, <a class="el" href="check__libshared__marshal_8c_source.html#l01374">START_TEST()</a>, <a class="el" href="marshal_8c_source.html#l01375">unmarshal_typed_value()</a>, and <a class="el" href="marshal_8c_source.html#l01101">unmarshal_value()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordtype">int</span> i = 0;</div>
<div class="line">  <span class="keywordtype">int</span> n = <a class="code" href="oml__util_8h.html#ad0e13d94164219be2d5bbd4d65e71d1e">LENGTH</a>(type_names);</div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> unknown[] = <span class="stringliteral">&quot;unknown OML type&quot;</span>;</div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="init_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = unknown;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; n; i++) {</div>
<div class="line">    <span class="keywordflow">if</span> (type_names[i].<a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a> == <a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a>) {</div>
<div class="line">      name = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)type_names[i].name;</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="init_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1b8f01ab780658d8635adb4ba94351a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oml_value_array_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOmlValue.html">OmlValue</a> *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise arrays of OmlValues.</p>
<p>It is <em>MANDATORY</em> to use this function before any <a class="el" href="structOmlValue.html">OmlValue</a> setting, otherwise, uninitialised memory might lead to various issues with dynamic allocation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>pointer to the first <a class="el" href="structOmlValue.html">OmlValue</a> of the array to manipulate </td></tr>
    <tr><td class="paramname">n</td><td>length of the array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="oml__value_8h.html#aecf953b9ce05c582c030eec0e962c69c">oml_value_init</a> </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00097">97</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>Referenced by <a class="el" href="client__handler_8c_source.html#l00106">client_realloc_tables()</a>, <a class="el" href="client__handler_8c_source.html#l00170">client_realloc_values()</a>, <a class="el" href="oml__value_8c_source.html#l00081">oml_value_init()</a>, and <a class="el" href="check__binary__protocol_8c_source.html#l00220">START_TEST()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  memset(v, 0, n*<span class="keyword">sizeof</span>(<a class="code" href="structOmlValue.html">OmlValue</a>));</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af9b04c9eed21bd2760271446cdcf8795"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oml_value_array_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOmlValue.html">OmlValue</a> *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset array of <a class="el" href="structOmlValue.html">OmlValue</a>, cleaning any allocated memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>pointer to the first <a class="el" href="structOmlValue.html">OmlValue</a> of the array to manipulate </td></tr>
    <tr><td class="paramname">n</td><td>length of the array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="oml__value_8h.html#aecf953b9ce05c582c030eec0e962c69c">oml_value_init</a> </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00267">267</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="oml__value_8c_source.html#l00217">oml_value_reset()</a>.</p>

<p>Referenced by <a class="el" href="factory_8c_source.html#l00139">destroy_filter()</a>, and <a class="el" href="check__binary__protocol_8c_source.html#l00220">START_TEST()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line"> <span class="keywordtype">int</span> i;</div>
<div class="line"> <span class="keywordflow">for</span> (i=0; i&lt;n; i++) {</div>
<div class="line">   <a class="code" href="oml__value_8c.html#ad73bf2617858cdc9c70722e1ca91eea3">oml_value_reset</a>(&amp;v[i]);</div>
<div class="line"> }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a75deb2e7b1e27b795b67e3a76f2270b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int oml_value_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unionOmlValueU.html">OmlValueU</a> *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structOmlValue.html">OmlValue</a> *&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DEPRECATED </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="oml__value_8h.html#abce36c5bb2beea2a56812e84b9f1a7fa">oml_value_set</a> </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00202">202</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="log_8c_source.html#l00309">logwarn()</a>, and <a class="el" href="oml__value_8c_source.html#l00146">oml_value_set()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line"> <a class="code" href="log_8c.html#ac65b3f90d3228474368b2b48a488cd44">logwarn</a>(<span class="stringliteral">&quot;%s() is deprecated, please use oml_value_set(to, value, type) instead\n&quot;</span>, __FUNCTION__);</div>
<div class="line"> <span class="keywordflow">return</span> <a class="code" href="oml__value_8c.html#abce36c5bb2beea2a56812e84b9f1a7fa">oml_value_set</a>(to, value, <a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5488479a807e78eeea40322a4ca851e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int oml_value_duplicate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOmlValue.html">OmlValue</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structOmlValue.html">OmlValue</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deep copy an <a class="el" href="structOmlValue.html">OmlValue</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst</td><td><a class="el" href="structOmlValue.html">OmlValue</a> to copy to </td></tr>
    <tr><td class="paramname">src</td><td><a class="el" href="structOmlValue.html">OmlValue</a> to copy </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 otherwise </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="oml__value_8h.html#aecf953b9ce05c582c030eec0e962c69c">oml_value_init</a>, <a class="el" href="oml__value_8h.html#abce36c5bb2beea2a56812e84b9f1a7fa">oml_value_set</a>, <a class="el" href="oml__value_8h.html#a4f590bee663b713f2afeee50ca06260b">oml_value_get_value</a>, <a class="el" href="oml__value_8h.html#aa1e9629b4e4c34fe9d24ab381ad4550c">oml_value_get_type</a> </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00283">283</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="oml__value_8h_source.html#l00060">oml_value_get_type</a>, <a class="el" href="oml__value_8h_source.html#l00051">oml_value_get_value</a>, and <a class="el" href="oml__value_8c_source.html#l00146">oml_value_set()</a>.</p>

<p>Referenced by <a class="el" href="check__liboml2__omlvalue_8c_source.html#l00285">START_TEST()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="oml__value_8c.html#abce36c5bb2beea2a56812e84b9f1a7fa">oml_value_set</a>(dst, <a class="code" href="oml__value_8h.html#a4f590bee663b713f2afeee50ca06260b">oml_value_get_value</a>(src), <a class="code" href="oml__value_8h.html#aa1e9629b4e4c34fe9d24ab381ad4550c">oml_value_get_type</a>(src));</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a71292b83bb22ac91c6306baff2d96b03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int oml_value_from_s </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOmlValue.html">OmlValue</a> *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value_s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Try to convert a string to the current type of <a class="el" href="structOmlValue.html">OmlValue</a>, and store it there.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>pointer to output <a class="el" href="structOmlValue.html">OmlValue</a> </td></tr>
    <tr><td class="paramname">value_s</td><td>input string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 otherwise </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="oml__value_8h.html#aecf953b9ce05c582c030eec0e962c69c">oml_value_init</a>, oml_value_ut_from_s </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00470">470</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="oml__value_8h_source.html#l00060">oml_value_get_type</a>, and <a class="el" href="oml__value_8h_source.html#l00051">oml_value_get_value</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> oml_value_ut_from_s(<a class="code" href="oml__value_8h.html#a4f590bee663b713f2afeee50ca06260b">oml_value_get_value</a>(value), <a class="code" href="oml__value_8h.html#aa1e9629b4e4c34fe9d24ab381ad4550c">oml_value_get_type</a>(value), value_s);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa4094261392435563804ab3c675539df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int oml_value_from_typed_s </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOmlValue.html">OmlValue</a> *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type_s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value_s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Try to convert a string to the type represented by the given string, and store it an <a class="el" href="structOmlValue.html">OmlValue</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>pointer to output <a class="el" href="structOmlValue.html">OmlValue</a> </td></tr>
    <tr><td class="paramname">type_s</td><td>string representing an OmlValueT </td></tr>
    <tr><td class="paramname">value_s</td><td>input string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 otherwise </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="oml__value_8h.html#aecf953b9ce05c582c030eec0e962c69c">oml_value_init</a>, oml_value_ut_from_s, <a class="el" href="oml__value_8h.html#aafc9150eceacdda526c7835f09bc52a5">oml_type_from_s</a> </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00484">484</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="oml__value_8c_source.html#l00325">oml_type_from_s()</a>, <a class="el" href="oml__value_8h_source.html#l00051">oml_value_get_value</a>, and <a class="el" href="oml__value_8c_source.html#l00109">oml_value_set_type()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a> <a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a> = <a class="code" href="oml__value_8c.html#aafc9150eceacdda526c7835f09bc52a5">oml_type_from_s</a> (type_s);</div>
<div class="line">  <a class="code" href="oml__value_8c.html#a7213e167ca9eb81228f8b7952e99f8c9">oml_value_set_type</a>(value, type);</div>
<div class="line">  <span class="keywordflow">return</span> oml_value_ut_from_s(<a class="code" href="oml__value_8h.html#a4f590bee663b713f2afeee50ca06260b">oml_value_get_value</a>(value), type, value_s);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aecf953b9ce05c582c030eec0e962c69c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oml_value_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOmlValue.html">OmlValue</a> *&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise one OmlValues.</p>
<p>It is <em>MANDATORY</em> to use this function before any <a class="el" href="structOmlValue.html">OmlValue</a> setting, otherwise, uninitialised memory might lead to various issues with dynamic allocation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>pointer to the <a class="el" href="structOmlValue.html">OmlValue</a> to manipulate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="oml__value_8h.html#a1b8f01ab780658d8635adb4ba94351a2">oml_value_array_init</a> </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00081">81</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="oml__value_8c_source.html#l00097">oml_value_array_init()</a>.</p>

<p>Referenced by <a class="el" href="binary_8c_source.html#l00104">bin_read_msg_start()</a>, <a class="el" href="api_8c_source.html#l00149">omlc_inject()</a>, <a class="el" href="check__util_8c_source.html#l00235">run_filter_test()</a>, <a class="el" href="check__liboml2__omlvalue_8c_source.html#l00285">START_TEST()</a>, <a class="el" href="text_8c_source.html#l00142">text_read_msg_start()</a>, <a class="el" href="marshal_8c_source.html#l00951">unmarshal_init()</a>, and <a class="el" href="check__util_8c_source.html#l00180">vector_values_ut_stringify()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  <a class="code" href="oml__value_8c.html#a1b8f01ab780658d8635adb4ba94351a2">oml_value_array_init</a>(v, 1);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad73bf2617858cdc9c70722e1ca91eea3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int oml_value_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOmlValue.html">OmlValue</a> *&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset one <a class="el" href="structOmlValue.html">OmlValue</a>, cleaning any allocated memory.</p>
<p>The type of the value is also reset (to 0, i.e., OML_DOUBLE_VALUE).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>pointer to <a class="el" href="structOmlValue.html">OmlValue</a> to reset </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, -1 otherwise </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="oml__value_8h.html#aecf953b9ce05c582c030eec0e962c69c">oml_value_init</a>, <a class="el" href="oml__value_8h.html#af9b04c9eed21bd2760271446cdcf8795">oml_value_array_reset</a>, memset(3) </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00217">217</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="log_8c_source.html#l00309">logwarn()</a>, <a class="el" href="omlc_8h_source.html#l00044">OML_BLOB_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00046">OML_BOOL_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00048">OML_DATETIME_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00036">OML_DOUBLE_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00045">OML_GUID_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00040">OML_INT32_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00042">OML_INT64_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00037">OML_LONG_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00039">OML_STRING_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00041">OML_UINT32_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00043">OML_UINT64_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00056">OML_VECTOR_BOOL_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00051">OML_VECTOR_DOUBLE_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00052">OML_VECTOR_INT32_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00054">OML_VECTOR_INT64_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00053">OML_VECTOR_UINT32_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00055">OML_VECTOR_UINT64_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00535">omlc_reset_blob</a>, <a class="el" href="omlc_8h_source.html#l00457">omlc_reset_string</a>, <a class="el" href="omlc_8h_source.html#l00591">omlc_reset_vector</a>, <a class="el" href="omlc_8h_source.html#l00647">OmlValue::type</a>, and <a class="el" href="omlc_8h_source.html#l00650">OmlValue::value</a>.</p>

<p>Referenced by <a class="el" href="binary_8c_source.html#l00104">bin_read_msg_start()</a>, <a class="el" href="client__handler_8c_source.html#l00227">client_handler_free()</a>, <a class="el" href="oml__value_8c_source.html#l00267">oml_value_array_reset()</a>, <a class="el" href="oml__value_8c_source.html#l00109">oml_value_set_type()</a>, <a class="el" href="api_8c_source.html#l00149">omlc_inject()</a>, <a class="el" href="check__util_8c_source.html#l00235">run_filter_test()</a>, <a class="el" href="check__liboml2__omlvalue_8c_source.html#l00285">START_TEST()</a>, <a class="el" href="text_8c_source.html#l00142">text_read_msg_start()</a>, <a class="el" href="marshal_8c_source.html#l00951">unmarshal_init()</a>, and <a class="el" href="check__util_8c_source.html#l00180">vector_values_ut_stringify()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordflow">switch</span>(v-&gt;<a class="code" href="structOmlValue.html#a1e4a3e875d5fcfe5c3960991eb74c739">type</a>) {</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a22fda4d714f29db7df49a3574986e67c">OML_LONG_VALUE</a>:</div>
<div class="line">    <a class="code" href="log_8c.html#ac65b3f90d3228474368b2b48a488cd44">logwarn</a>(<span class="stringliteral">&quot;%s(): OML_LONG_VALUE is deprecated, please use OML_INT32_VALUE instead\n&quot;</span>, __FUNCTION__);</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aab24deeb6fcd36f47779e12dca2c38b9">OML_INT32_VALUE</a>:</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aad8721fa7d76e62c5885222061fa7827">OML_UINT32_VALUE</a>:</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012af4f2a3a1e0887652fb41bab6b6bb96ee">OML_INT64_VALUE</a>:</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aa0ecc1e475955c44a641c75e841ca2fc">OML_UINT64_VALUE</a>:</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012adf6df4b257026d03f661cfb85dc7d1c3">OML_DOUBLE_VALUE</a>:</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a8f383c792a4697dbf4db99ef2514853f">OML_GUID_VALUE</a>:</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012ac12a596e1ea36e0a6f0c58d2b63c8046">OML_BOOL_VALUE</a>:</div>
<div class="line">    <span class="comment">/* No deep cleanup needed, memset(3) below is sufficient */</span></div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a42b33eb7c21f79727a894a530a05b559">OML_STRING_VALUE</a>:</div>
<div class="line">    <a class="code" href="omlc_8h.html#a1434bd8b5a841357336609930bdb05c3">omlc_reset_string</a>(v-&gt;<a class="code" href="structOmlValue.html#ab606b56595b2e5357a4b3d7bf40d6260">value</a>);</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a757bfe5ea9a3b418e9d2ca243c843c59">OML_DATETIME_VALUE</a>:</div>
<div class="line">    <a class="code" href="omlc_8h.html#a1434bd8b5a841357336609930bdb05c3">omlc_reset_string</a>(v-&gt;<a class="code" href="structOmlValue.html#ab606b56595b2e5357a4b3d7bf40d6260">value</a>);</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aea7273ecb417f61976d2089a31e75037">OML_BLOB_VALUE</a>:</div>
<div class="line">    <a class="code" href="omlc_8h.html#afd4a7d8b9b3f9c09228329b443e07afd">omlc_reset_blob</a>(v-&gt;<a class="code" href="structOmlValue.html#ab606b56595b2e5357a4b3d7bf40d6260">value</a>);</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012acb2346135dde2824348712d936f03353">OML_VECTOR_DOUBLE_VALUE</a>:</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aed6846ecc2ffcc8aadce26c11162a620">OML_VECTOR_INT32_VALUE</a>:</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a885a525604de2b2891df51668d7b578f">OML_VECTOR_UINT32_VALUE</a>:</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a0b98a39a835deadf7a27de784acd8a93">OML_VECTOR_INT64_VALUE</a>:</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a505a02b4218554c975af8d42571d2dd7">OML_VECTOR_UINT64_VALUE</a>:</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aebca95966d074921730a23e95b5d9dd6">OML_VECTOR_BOOL_VALUE</a>:</div>
<div class="line">    <a class="code" href="omlc_8h.html#a940e89198bfab41599b2094862e8a007">omlc_reset_vector</a>(v-&gt;<a class="code" href="structOmlValue.html#ab606b56595b2e5357a4b3d7bf40d6260">value</a>);</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">default</span>:</div>
<div class="line">    <a class="code" href="log_8c.html#ac65b3f90d3228474368b2b48a488cd44">logwarn</a>(<span class="stringliteral">&quot;%s() for type &#39;%d&#39; not implemented, zeroing storage\n&quot;</span>, __FUNCTION__, v-&gt;<a class="code" href="structOmlValue.html#a1e4a3e875d5fcfe5c3960991eb74c739">type</a>);</div>
<div class="line">  }</div>
<div class="line">  memset(v, 0, <span class="keyword">sizeof</span>(<a class="code" href="structOmlValue.html">OmlValue</a>));</div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abce36c5bb2beea2a56812e84b9f1a7fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int oml_value_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOmlValue.html">OmlValue</a> *&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="unionOmlValueU.html">OmlValueU</a> *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assign the content of an <a class="el" href="unionOmlValueU.html">OmlValueU</a> of the given OmlValueT to an <a class="el" href="structOmlValue.html">OmlValue</a>.</p>
<p>This function copies value, which is assumed to be of the given type (no check can be made), into the <a class="el" href="structOmlValue.html">OmlValue</a> pointed to by to. The to object is set to have the given type. If type is a simple numeric type, the copy simply copies the value.</p>
<p>If type is OML_STRING_VALUE, then the string contents are copied into new storage in to. If to was previously set to be a const string, then the is_const flag is cleared and a new block of memory is allocated to store the copy and its terminating null character. If to did not previously have the is_const flag set, and its string pointer was NULL, then a new block of memory is also allocated as well. If the string pointer was not NULL, then the string is copied into the previously allocated memory block if it is large enough to fit; otherwise the block is freed and a new one allocated large enough to hold the string (and its terminator).</p>
<p>Blobs are handled in a similar fashion.</p>
<p>If the source pointer is NULL then an error is returned and a warning message is sent to the log.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to</td><td>pointer to <a class="el" href="structOmlValue.html">OmlValue</a> into which the value should be copied </td></tr>
    <tr><td class="paramname">value</td><td>pointer to original <a class="el" href="unionOmlValueU.html">OmlValueU</a> to copy into to </td></tr>
    <tr><td class="paramname">type</td><td>OmlValueT of value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, -1 otherwise </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="oml__value_8h.html#aecf953b9ce05c582c030eec0e962c69c">oml_value_init</a>, <a class="el" href="omlc_8h.html#acc937f4c5d6c581360ddb3862e83590d">omlc_copy_string</a>, <a class="el" href="omlc_8h.html#a6c4151e64ab407dac759eab6de0d50ae">omlc_copy_blob</a> </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00146">146</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="log_8c_source.html#l00297">logerror()</a>, <a class="el" href="log_8c_source.html#l00309">logwarn()</a>, <a class="el" href="omlc_8h_source.html#l00044">OML_BLOB_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00048">OML_DATETIME_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00039">OML_STRING_VALUE</a>, <a class="el" href="oml__value_8h_source.html#l00051">oml_value_get_value</a>, <a class="el" href="oml__value_8c_source.html#l00109">oml_value_set_type()</a>, <a class="el" href="omlc_8h_source.html#l00056">OML_VECTOR_BOOL_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00051">OML_VECTOR_DOUBLE_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00052">OML_VECTOR_INT32_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00054">OML_VECTOR_INT64_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00053">OML_VECTOR_UINT32_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00055">OML_VECTOR_UINT64_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00552">omlc_copy_blob</a>, <a class="el" href="omlc_8h_source.html#l00494">omlc_copy_string</a>, <a class="el" href="omlc_8h_source.html#l00633">omlc_copy_vector</a>, <a class="el" href="omlc_8h_source.html#l00368">omlc_get_blob_ptr</a>, <a class="el" href="omlc_8h_source.html#l00340">omlc_get_string_ptr</a>, <a class="el" href="omlc_8h_source.html#l00556">omlc_get_vector_ptr</a>, <a class="el" href="omlc_8h_source.html#l00079">omlc_is_bool_type</a>, <a class="el" href="omlc_8h_source.html#l00077">omlc_is_guid_type</a>, <a class="el" href="omlc_8h_source.html#l00069">omlc_is_numeric_type</a>, and <a class="el" href="omlc_8h_source.html#l00650">OmlValue::value</a>.</p>

<p>Referenced by <a class="el" href="oml__value_8c_source.html#l00202">oml_value_copy()</a>, <a class="el" href="oml__value_8c_source.html#l00283">oml_value_duplicate()</a>, <a class="el" href="api_8c_source.html#l00149">omlc_inject()</a>, <a class="el" href="check__liboml2__omlvalue_8c_source.html#l00285">START_TEST()</a>, and <a class="el" href="check__util_8c_source.html#l00180">vector_values_ut_stringify()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  <a class="code" href="oml__value_8c.html#a7213e167ca9eb81228f8b7952e99f8c9">oml_value_set_type</a>(to, <a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a>);</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="omlc_8h.html#a86f8c871de57e71f81d9bc85469de71c">omlc_is_numeric_type</a> (<a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a>) ||</div>
<div class="line">      <a class="code" href="omlc_8h.html#a9b0856dd683bbb785831ea0450490e72">omlc_is_guid_type</a> (<a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a>) ||</div>
<div class="line">      <a class="code" href="omlc_8h.html#ac28c3c08fbbe77bb863b0d0640afeff1">omlc_is_bool_type</a> (<a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a>)) {</div>
<div class="line">    to-&gt;<a class="code" href="structOmlValue.html#ab606b56595b2e5357a4b3d7bf40d6260">value</a> = *value;</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">switch</span> (<a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a>) {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a42b33eb7c21f79727a894a530a05b559">OML_STRING_VALUE</a>:</div>
<div class="line">      <span class="keywordflow">if</span> (!<a class="code" href="omlc_8h.html#ae5077b9404ef5c4c2f66a1a654430512">omlc_get_string_ptr</a>(*value)) {</div>
<div class="line">        <a class="code" href="log_8c.html#ac65b3f90d3228474368b2b48a488cd44">logwarn</a>(<span class="stringliteral">&quot;Trying to copy OML_STRING_VALUE from a NULL source\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">      }</div>
<div class="line">      <a class="code" href="omlc_8h.html#acc937f4c5d6c581360ddb3862e83590d">omlc_copy_string</a>(*<a class="code" href="oml__value_8h.html#a4f590bee663b713f2afeee50ca06260b">oml_value_get_value</a>(to), *value);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a757bfe5ea9a3b418e9d2ca243c843c59">OML_DATETIME_VALUE</a>:</div>
<div class="line">      <span class="keywordflow">if</span> (!<a class="code" href="omlc_8h.html#ae5077b9404ef5c4c2f66a1a654430512">omlc_get_string_ptr</a>(*value)) {</div>
<div class="line">        <a class="code" href="log_8c.html#ac65b3f90d3228474368b2b48a488cd44">logwarn</a>(<span class="stringliteral">&quot;Trying to copy OML_DATETIME_VALUE from a NULL source\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">      }</div>
<div class="line">      <a class="code" href="omlc_8h.html#acc937f4c5d6c581360ddb3862e83590d">omlc_copy_string</a>(*<a class="code" href="oml__value_8h.html#a4f590bee663b713f2afeee50ca06260b">oml_value_get_value</a>(to), *value);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aea7273ecb417f61976d2089a31e75037">OML_BLOB_VALUE</a>:</div>
<div class="line">      <span class="keywordflow">if</span> (!<a class="code" href="omlc_8h.html#ab27d41701e48bc5ebd9e41e21e771cf6">omlc_get_blob_ptr</a>(*value)) {</div>
<div class="line">        <a class="code" href="log_8c.html#ac65b3f90d3228474368b2b48a488cd44">logwarn</a>(<span class="stringliteral">&quot;Trying to copy OML_BLOB_VALUE from a NULL source\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">      }</div>
<div class="line">      <a class="code" href="omlc_8h.html#a6c4151e64ab407dac759eab6de0d50ae">omlc_copy_blob</a>(*<a class="code" href="oml__value_8h.html#a4f590bee663b713f2afeee50ca06260b">oml_value_get_value</a>(to), *value);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012acb2346135dde2824348712d936f03353">OML_VECTOR_DOUBLE_VALUE</a>:</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aed6846ecc2ffcc8aadce26c11162a620">OML_VECTOR_INT32_VALUE</a>:</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a885a525604de2b2891df51668d7b578f">OML_VECTOR_UINT32_VALUE</a>:</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a0b98a39a835deadf7a27de784acd8a93">OML_VECTOR_INT64_VALUE</a>:</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a505a02b4218554c975af8d42571d2dd7">OML_VECTOR_UINT64_VALUE</a>:</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aebca95966d074921730a23e95b5d9dd6">OML_VECTOR_BOOL_VALUE</a>:</div>
<div class="line">      <span class="keywordflow">if</span> (!<a class="code" href="omlc_8h.html#a3e6ebac117f490c57b65321c4753c0a1">omlc_get_vector_ptr</a>(*value)) {</div>
<div class="line">        <a class="code" href="log_8c.html#ac65b3f90d3228474368b2b48a488cd44">logwarn</a>(<span class="stringliteral">&quot;Trying to copy OML_VECTOR_*_VALUE from a NULL source\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">      }</div>
<div class="line">      <a class="code" href="omlc_8h.html#a0d9db46c1d2be1d40f51b9f5f6d1e6fa">omlc_copy_vector</a>(*<a class="code" href="oml__value_8h.html#a4f590bee663b713f2afeee50ca06260b">oml_value_get_value</a>(to), *value);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">default</span>:</div>
<div class="line">      <a class="code" href="log_8c.html#a0548af6117bef6d5c78d45a36ab7013b">logerror</a>(<span class="stringliteral">&quot;%s() for type &#39;%d&#39; not implemented&#39;\n&quot;</span>, __FUNCTION__, <a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a>);</div>
<div class="line">      <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7213e167ca9eb81228f8b7952e99f8c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oml_value_set_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOmlValue.html">OmlValue</a> *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the type of an <a class="el" href="structOmlValue.html">OmlValue</a>, cleaning up if need be.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>pointer to the <a class="el" href="structOmlValue.html">OmlValue</a> to manipulate </td></tr>
    <tr><td class="paramname">type</td><td>new type to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="oml__value_8h.html#aecf953b9ce05c582c030eec0e962c69c">oml_value_init</a>, <a class="el" href="oml__value_8h.html#ad73bf2617858cdc9c70722e1ca91eea3">oml_value_reset</a> </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00109">109</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="oml__value_8c_source.html#l00217">oml_value_reset()</a>, <a class="el" href="oml__value_8c_source.html#l00042">type</a>, and <a class="el" href="omlc_8h_source.html#l00647">OmlValue::type</a>.</p>

<p>Referenced by <a class="el" href="binary_8c_source.html#l00104">bin_read_msg_start()</a>, <a class="el" href="oml__value_8c_source.html#l00484">oml_value_from_typed_s()</a>, <a class="el" href="oml__value_8c_source.html#l00146">oml_value_set()</a>, <a class="el" href="check__util_8c_source.html#l00235">run_filter_test()</a>, <a class="el" href="check__binary__protocol_8c_source.html#l00093">START_TEST()</a>, <a class="el" href="text_8c_source.html#l00142">text_read_msg_start()</a>, <a class="el" href="text_8c_source.html#l00198">text_read_msg_values()</a>, and <a class="el" href="marshal_8c_source.html#l01101">unmarshal_value()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordflow">if</span> (v-&gt;<a class="code" href="structOmlValue.html#a1e4a3e875d5fcfe5c3960991eb74c739">type</a> != <a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a>) {</div>
<div class="line">    <a class="code" href="oml__value_8c.html#ad73bf2617858cdc9c70722e1ca91eea3">oml_value_reset</a>(v);</div>
<div class="line">    v-&gt;<a class="code" href="structOmlValue.html#a1e4a3e875d5fcfe5c3960991eb74c739">type</a> = <a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac52077e026472e534df0e0ae38c8ba4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t oml_value_string_to_bool </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value_s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Try to read a string as a boolean</p>
<p>Anything is True except if clearly False (which includes a NULL string).</p>
<p>Partial matches work too: 'f', 'Fa', 'fAl' or 'FAlS' are equivalents to 'false'; longer strings starting with a variation of 'false' are true.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value_s</td><td>string to read as a boolean </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a bool representation suitable for omlc_set_bool </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="omlc_8h.html#a8d84dc9e74c5e2c6fe319a6e1d9f8776">omlc_set_bool</a> </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00850">850</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="log_8c_source.html#l00309">logwarn()</a>.</p>

<p>Referenced by <a class="el" href="check__liboml2__omlvalue_8c_source.html#l00420">START_TEST()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordflow">if</span> (NULL != value_s) {</div>
<div class="line">    <span class="keywordflow">return</span> (uint8_t)(strncasecmp(value_s, <span class="stringliteral">&quot;false&quot;</span>, strlen(value_s)) != 0);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <a class="code" href="log_8c.html#ac65b3f90d3228474368b2b48a488cd44">logwarn</a>(<span class="stringliteral">&quot;%s: trying to convert NULL string to bool, assuming false\n&quot;</span>, __FUNCTION__);</div>
<div class="line">  <span class="keywordflow">return</span> (uint8_t)0;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a65b495cdb73eb533db348aded97c577f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double oml_value_to_double </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOmlValue.html">OmlValue</a> *&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cast the data contained in an <a class="el" href="structOmlValue.html">OmlValue</a> to a double.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>pointer to <a class="el" href="structOmlValue.html">OmlValue</a> containing the data to cast </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a double, which defaults to 0. on error </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00794">794</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="log_8c_source.html#l00297">logerror()</a>, <a class="el" href="log_8c_source.html#l00309">logwarn()</a>, <a class="el" href="omlc_8h_source.html#l00036">OML_DOUBLE_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00040">OML_INT32_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00042">OML_INT64_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00037">OML_LONG_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00041">OML_UINT32_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00043">OML_UINT64_VALUE</a>, <a class="el" href="oml__value_8h_source.html#l00060">oml_value_get_type</a>, <a class="el" href="oml__value_8h_source.html#l00051">oml_value_get_value</a>, <a class="el" href="omlc_8h_source.html#l00264">omlc_get_double</a>, <a class="el" href="omlc_8h_source.html#l00252">omlc_get_int32</a>, <a class="el" href="omlc_8h_source.html#l00258">omlc_get_int64</a>, <a class="el" href="omlc_8h_source.html#l00267">omlc_get_long</a>, <a class="el" href="omlc_8h_source.html#l00255">omlc_get_uint32</a>, and <a class="el" href="omlc_8h_source.html#l00261">omlc_get_uint64</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  <a class="code" href="unionOmlValueU.html">OmlValueU</a> *v = <a class="code" href="oml__value_8h.html#a4f590bee663b713f2afeee50ca06260b">oml_value_get_value</a>(value);</div>
<div class="line">  <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a> <a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a> = <a class="code" href="oml__value_8h.html#aa1e9629b4e4c34fe9d24ab381ad4550c">oml_value_get_type</a>(value);</div>
<div class="line">  <span class="keywordflow">switch</span> (type) {</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a22fda4d714f29db7df49a3574986e67c">OML_LONG_VALUE</a>:</div>
<div class="line">    <a class="code" href="log_8c.html#ac65b3f90d3228474368b2b48a488cd44">logwarn</a>(<span class="stringliteral">&quot;%s(): OML_LONG_VALUE is deprecated, please use OML_INT32_VALUE instead\n&quot;</span>, __FUNCTION__);</div>
<div class="line">    <span class="keywordflow">return</span> (<span class="keywordtype">double</span>) <a class="code" href="omlc_8h.html#afea91bd71720ebe6f606841d2347473a">omlc_get_long</a>(*v);</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aab24deeb6fcd36f47779e12dca2c38b9">OML_INT32_VALUE</a>:  <span class="keywordflow">return</span> (<span class="keywordtype">double</span>) <a class="code" href="omlc_8h.html#a6314fe3dc202a16edcd064d8504a24d5">omlc_get_int32</a>(*v);</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aad8721fa7d76e62c5885222061fa7827">OML_UINT32_VALUE</a>: <span class="keywordflow">return</span> (<span class="keywordtype">double</span>) <a class="code" href="omlc_8h.html#a1493babcfc9c69f6aa7efebf049c7a22">omlc_get_uint32</a>(*v);</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012af4f2a3a1e0887652fb41bab6b6bb96ee">OML_INT64_VALUE</a>:  <span class="keywordflow">return</span> (<span class="keywordtype">double</span>) <a class="code" href="omlc_8h.html#aeb1480723c7d9b86609a6dea4440a52d">omlc_get_int64</a>(*v);</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aa0ecc1e475955c44a641c75e841ca2fc">OML_UINT64_VALUE</a>: <span class="keywordflow">return</span> (<span class="keywordtype">double</span>) <a class="code" href="omlc_8h.html#a37958a949ce7353bd25dee96810e2cd6">omlc_get_uint64</a>(*v);</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012adf6df4b257026d03f661cfb85dc7d1c3">OML_DOUBLE_VALUE</a>: <span class="keywordflow">return</span> (<span class="keywordtype">double</span>) <a class="code" href="omlc_8h.html#adb34b291e3acb9b9a52c544c34c6568c">omlc_get_double</a>(*v);</div>
<div class="line">  <span class="keywordflow">default</span>:</div>
<div class="line">    <a class="code" href="log_8c.html#a0548af6117bef6d5c78d45a36ab7013b">logerror</a>(<span class="stringliteral">&quot;%s() for type &#39;%d&#39; not implemented&#39;\n&quot;</span>, __FUNCTION__, type);</div>
<div class="line">    <span class="keywordflow">return</span> 0.0;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adf01fab773d98c9aa023c0edd72d3409"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int oml_value_to_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOmlValue.html">OmlValue</a> *&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cast the data contained in an <a class="el" href="structOmlValue.html">OmlValue</a> to an int.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>pointer to <a class="el" href="structOmlValue.html">OmlValue</a> containing the data to cast </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an integer, which defaults to 0 on error </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00819">819</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="log_8c_source.html#l00297">logerror()</a>, <a class="el" href="log_8c_source.html#l00309">logwarn()</a>, <a class="el" href="omlc_8h_source.html#l00036">OML_DOUBLE_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00040">OML_INT32_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00042">OML_INT64_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00037">OML_LONG_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00041">OML_UINT32_VALUE</a>, <a class="el" href="omlc_8h_source.html#l00043">OML_UINT64_VALUE</a>, <a class="el" href="oml__value_8h_source.html#l00060">oml_value_get_type</a>, <a class="el" href="oml__value_8h_source.html#l00051">oml_value_get_value</a>, <a class="el" href="omlc_8h_source.html#l00264">omlc_get_double</a>, <a class="el" href="omlc_8h_source.html#l00252">omlc_get_int32</a>, <a class="el" href="omlc_8h_source.html#l00258">omlc_get_int64</a>, <a class="el" href="omlc_8h_source.html#l00267">omlc_get_long</a>, <a class="el" href="omlc_8h_source.html#l00255">omlc_get_uint32</a>, and <a class="el" href="omlc_8h_source.html#l00261">omlc_get_uint64</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  <a class="code" href="unionOmlValueU.html">OmlValueU</a> *v = <a class="code" href="oml__value_8h.html#a4f590bee663b713f2afeee50ca06260b">oml_value_get_value</a>(value);</div>
<div class="line">  <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a> <a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a> = <a class="code" href="oml__value_8h.html#aa1e9629b4e4c34fe9d24ab381ad4550c">oml_value_get_type</a>(value);</div>
<div class="line">  <span class="keywordflow">switch</span> (type) {</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012a22fda4d714f29db7df49a3574986e67c">OML_LONG_VALUE</a>:</div>
<div class="line">    <a class="code" href="log_8c.html#ac65b3f90d3228474368b2b48a488cd44">logwarn</a>(<span class="stringliteral">&quot;%s(): OML_LONG_VALUE is deprecated, please use OML_INT32_VALUE instead\n&quot;</span>, __FUNCTION__);</div>
<div class="line">    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) <a class="code" href="omlc_8h.html#afea91bd71720ebe6f606841d2347473a">omlc_get_long</a>(*v);</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aab24deeb6fcd36f47779e12dca2c38b9">OML_INT32_VALUE</a>:  <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) <a class="code" href="omlc_8h.html#a6314fe3dc202a16edcd064d8504a24d5">omlc_get_int32</a>(*v);</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aad8721fa7d76e62c5885222061fa7827">OML_UINT32_VALUE</a>: <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) <a class="code" href="omlc_8h.html#a1493babcfc9c69f6aa7efebf049c7a22">omlc_get_uint32</a>(*v);</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012af4f2a3a1e0887652fb41bab6b6bb96ee">OML_INT64_VALUE</a>:  <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) <a class="code" href="omlc_8h.html#aeb1480723c7d9b86609a6dea4440a52d">omlc_get_int64</a>(*v);</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012aa0ecc1e475955c44a641c75e841ca2fc">OML_UINT64_VALUE</a>: <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) <a class="code" href="omlc_8h.html#a37958a949ce7353bd25dee96810e2cd6">omlc_get_uint64</a>(*v);</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012adf6df4b257026d03f661cfb85dc7d1c3">OML_DOUBLE_VALUE</a>: <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) <a class="code" href="omlc_8h.html#adb34b291e3acb9b9a52c544c34c6568c">omlc_get_double</a>(*v);</div>
<div class="line">  <span class="keywordflow">default</span>:</div>
<div class="line">    <a class="code" href="log_8c.html#a0548af6117bef6d5c78d45a36ab7013b">logerror</a>(<span class="stringliteral">&quot;%s() for type &#39;%d&#39; not implemented&#39;\n&quot;</span>, __FUNCTION__, type);</div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4474bf93d70042416d0bc2adff357a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* oml_value_to_s </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOmlValue.html">OmlValue</a> *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert data stored in an <a class="el" href="structOmlValue.html">OmlValue</a> to a string representation.</p>
<p>The given buffer will contain a nul-terminated C string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>pointer to <a class="el" href="structOmlValue.html">OmlValue</a> containing data </td></tr>
    <tr><td class="paramname">buf</td><td>buffer to put the textual representation of the value in </td></tr>
    <tr><td class="paramname">size</td><td>size of the buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to buf, or NULL on error </dd></dl>
<dl class="section see"><dt>See Also</dt><dd>oml_value_ut_to_s </dd></dl>

<p>Definition at line <a class="el" href="oml__value_8c_source.html#l00360">360</a> of file <a class="el" href="oml__value_8c_source.html">oml_value.c</a>.</p>

<p>References <a class="el" href="oml__value_8h_source.html#l00060">oml_value_get_type</a>, <a class="el" href="oml__value_8h_source.html#l00051">oml_value_get_value</a>, and <a class="el" href="oml__value_8c_source.html#l00042">type</a>.</p>

<p>Referenced by <a class="el" href="check__libshared__headers_8c_source.html#l00237">START_TEST()</a>, <a class="el" href="check__util_8c_source.html#l00163">vector_values_stringify()</a>, and <a class="el" href="check__util_8c_source.html#l00180">vector_values_ut_stringify()</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  <a class="code" href="unionOmlValueU.html">OmlValueU</a>* v = <a class="code" href="oml__value_8h.html#a4f590bee663b713f2afeee50ca06260b">oml_value_get_value</a>(value);</div>
<div class="line">  <a class="code" href="omlc_8h.html#ab15565231ebb9d8d8550c14e0aaa3012">OmlValueT</a> <a class="code" href="oml__value_8c.html#ae1087eeb503fb7b11a810d93605c97df">type</a> = <a class="code" href="oml__value_8h.html#aa1e9629b4e4c34fe9d24ab381ad4550c">oml_value_get_type</a>(value);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> oml_value_ut_to_s(v, type, buf, size);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_0ce1951afc5b1d55c9adea1f4ae57fb4.html">shared</a></li><li class="navelem"><a class="el" href="oml__value_8h.html">oml_value.h</a></li>
    <li class="footer">Generated on Thu Jun 25 2015 15:31:55 for oml2 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
